{% extends 'base.html' %}
{% block content %}
<div class="container">
	<h1>Уведомления</h1>
	<div style="margin: 8px 0;">
		<a href="{% url 'notifications:list' %}">Все</a>
		<span style="margin-left: 12px;">Непрочитанные: <strong>{{ unread_count }}</strong></span>
	</div>
	<ul>
		{% for n in notifications %}
		<li style="padding:8px;border-bottom:1px solid #eee;{% if not n.is_read %}background:#fff8f8;{% endif %}">
			<div style="display:flex;justify-content:space-between;align-items:center;gap:8px;">
				<div>
					<div style="font-weight:600;">{{ n.title }}</div>
					<div style="color:#555;">{{ n.message }}</div>
					<div style="color:#999;font-size:12px;">{{ n.created_at }}</div>
				</div>
				{% if not n.is_read %}
					<form method="post" action="{% url 'notifications:bell' %}" style="margin:0;">
						{% csrf_token %}
						<button type="submit">Отметить как прочитанное</button>
					</form>
				{% endif %}
			</div>
		</li>
		{% empty %}
		<li>Нет уведомлений</li>
		{% endfor %}
	</ul>
</div>
{% endblock %} 