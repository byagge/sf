{% extends 'finance/base.html' %}
{% block title %}Корреспонденции счетов{% endblock %}
{% block content %}
<div class="container mx-auto px-4 py-6">
	<div class="flex items-center justify-between mb-6">
		<h1 class="text-2xl font-bold text-gray-900">Корреспонденции счетов</h1>
		<a href="{% url 'finance:account_correspondence_create' %}" class="bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded">Новая корреспонденция</a>
	</div>
	<div class="bg-white border border-gray-200 rounded-lg overflow-hidden">
		<div class="overflow-x-auto">
			<table class="min-w-full divide-y divide-gray-200">
				<thead class="bg-gray-50">
					<tr>
						<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Дебет</th>
						<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Кредит</th>
						<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Описание</th>
						<th class="px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase">Корректна</th>
						<th class="px-6 py-3"></th>
					</tr>
				</thead>
				<tbody class="bg-white divide-y divide-gray-100">
					{% for c in correspondences %}
					<tr>
						<td class="px-6 py-3 text-sm text-gray-900">{{ c.debit_account.code }} {{ c.debit_account.name }}</td>
						<td class="px-6 py-3 text-sm text-gray-900">{{ c.credit_account.code }} {{ c.credit_account.name }}</td>
						<td class="px-6 py-3 text-sm text-gray-900">{{ c.description }}</td>
						<td class="px-6 py-3 text-sm">
							<span class="px-2 py-1 rounded text-xs {% if c.is_valid %}bg-green-100 text-green-800{% else %}bg-yellow-100 text-yellow-800{% endif %}">
								{% if c.is_valid %}Да{% else %}Предупреждение{% endif %}
							</span>
						</td>
						<td class="px-6 py-3 text-right text-sm">
							<a href="{% url 'finance:account_correspondence_edit' c.pk %}" class="text-blue-600 hover:text-blue-800">Редактировать</a>
						</td>
					</tr>
					{% empty %}
					<tr>
						<td colspan="5" class="px-6 py-8 text-center text-gray-500">Нет корреспонденций</td>
					</tr>
					{% endfor %}
				</tbody>
			</table>
		</div>
	</div>
</div>
{% endblock %} 